Boy, 13, shot and killed a female teacher and injured four others in Barcelona .
He had told classmates he was going to 'kill all the teachers' before committing suicide .
Witnesses said he had a 'hit list' of 25 names of teachers and pupils he intended to kill .
The boy is undergoing a psychiatric examination and will not face criminal charges because he is under 14 .